import{r as i,o as f,c as o,a as t,n as y,t as l,b as w,w as x,d as m,e as k,F as v,f as g,g as A,h as C,i as a,j as P,k as B}from"./index-BSX_n704.js";const H={class:"panel mb-4 animate-[float_8s_ease-in-out_infinite]"},N={class:"d-flex flex-column flex-lg-row justify-content-between gap-4"},V={class:"d-inline-flex align-items-center gap-2 mb-3 text-uppercase small fw-semibold"},D={class:"d-flex flex-wrap gap-3"},j={class:"mini-stats row row-cols-1 g-3"},I={class:"col"},M={class:"card border-0 h-100 text-center py-3"},O={class:"text-light mb-0"},E={class:"col"},F={class:"card border-0 h-100 text-center py-3"},L={class:"text-light mb-0"},R={class:"col"},T={class:"card border-0 h-100 text-center py-3"},z={class:"text-light mb-0"},S={class:"panel mb-4"},q={key:0,class:"alert alert-danger"},G={key:1,class:"panel-placeholder"},J={key:2,class:"row g-4"},K={class:"card h-100 border-0 fade-card"},Q={class:"card-body d-flex flex-column gap-2"},U={class:"badge bg-secondary text-uppercase w-auto"},W={class:"card-title text-light mb-0"},X={class:"card-text text-white-50 flex-grow-1"},Y={class:"panel"},Z={key:0,class:"row g-3"},$={class:"card border-0 h-100 mini-stat-card"},tt={class:"card-body"},st={class:"text-white-50 mb-1"},et={class:"text-light mb-2"},lt={class:"text-white-50"},at={class:"mb-0 text-white-50"},ot={key:1,class:"panel-placeholder"},ct={__name:"HomeView",setup(nt){const h=i({ok:null,text:"API 상태 확인 중..."}),b=i([]),_=i([]),r=i({users:0,posts:0,rooms:0}),u=i(!0),d=i(""),p=async()=>{u.value=!0,d.value="";try{const[c,s]=await Promise.all([A(),C()]);h.value={ok:!!c?.ok,text:c?.ok?"API 정상 동작 중":"API 응답 이상"},b.value=Array.isArray(s?.sections)?s.sections.map(n=>n.slug==="HERO"?{...n,slug:"RANDOM_CHAT",title:"랜덤 채팅",description:"대기열에서 무작위 이용자와 바로 매칭되어 1:1 대화를 즐길 수 있습니다.",cta_label:"랜덤 채팅으로 이동",cta_link:"/random-chat.html"}:n):[],_.value=Array.isArray(s?.stats)?s.stats:[],r.value=s?.totals??{users:0,posts:0,rooms:0}}catch(c){console.error(c),d.value="메인 데이터를 불러오지 못했습니다."}finally{u.value=!1}};return f(p),(c,s)=>{const n=k("router-link");return a(),o(v,null,[t("section",H,[t("div",N,[t("div",null,[t("div",V,[t("span",{class:y(["badge",h.value.ok?"bg-success":"bg-danger"])},null,2),t("span",null,l(h.value.text),1)]),s[2]||(s[2]=t("h1",{class:"display-5 fw-semibold text-light mb-3"},"Codex Platform",-1)),s[3]||(s[3]=t("p",{class:"text-white-50 mb-4"},"게시판 · 계정 · 채팅을 한 곳에서 관리하고, 익명 랜덤 채팅은 전용 화면에서 즐겨보세요.",-1)),t("div",D,[s[1]||(s[1]=t("a",{class:"btn btn-primary btn-lg shadow nav-hover",href:"/random-chat.html"},"랜덤 채팅 열기",-1)),w(n,{class:"btn btn-outline-light btn-lg nav-hover",to:"/chat"},{default:x(()=>[...s[0]||(s[0]=[m("공개 채팅방 보기",-1)])]),_:1})])]),t("div",j,[t("div",I,[t("div",M,[s[4]||(s[4]=t("p",{class:"text-white-50 mb-1"},"총 게시글",-1)),t("h2",O,l(r.value.posts),1)])]),t("div",E,[t("div",F,[s[5]||(s[5]=t("p",{class:"text-white-50 mb-1"},"오픈 채팅방",-1)),t("h2",L,l(r.value.rooms),1)])]),t("div",R,[t("div",T,[s[6]||(s[6]=t("p",{class:"text-white-50 mb-1"},"계정 수",-1)),t("h2",z,l(r.value.users),1)])])])])]),t("section",S,[t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[s[7]||(s[7]=t("div",null,[t("h2",{class:"h4 text-light mb-1"},"애플리케이션 개요"),t("p",{class:"text-white-50 mb-0"},"각 영역은 독립 라우트/앱으로 나뉘어 있습니다.")],-1)),t("button",{class:"btn btn-outline-info nav-hover",type:"button",onClick:p},"새로 고침")]),d.value?(a(),o("div",q,l(d.value),1)):u.value?(a(),o("div",G,"데이터를 불러오는 중...")):(a(),o("div",J,[(a(!0),o(v,null,g(b.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-3"},[t("div",K,[t("div",Q,[t("span",U,l(e.slug),1),t("h5",W,l(e.title),1),t("p",X,l(e.description),1),e.cta_link?(a(),P(n,{key:0,class:"btn btn-sm btn-outline-light align-self-start nav-hover",to:e.cta_link},{default:x(()=>[m(l(e.cta_label||"바로가기"),1)]),_:2},1032,["to"])):B("",!0)])])]))),128))]))]),t("section",Y,[s[8]||(s[8]=t("div",{class:"mb-3"},[t("h2",{class:"h4 text-light mb-1"},"운영 수치"),t("p",{class:"text-white-50 mb-0"},"DB, 백엔드, 프런트엔드가 공유하는 제약 조건입니다.")],-1)),_.value.length?(a(),o("div",Z,[(a(!0),o(v,null,g(_.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-md-6 col-xl-4"},[t("div",$,[t("div",tt,[t("p",st,l(e.name),1),t("h3",et,[m(l(e.value)+" ",1),t("small",lt,l(e.unit),1)]),t("p",at,l(e.description),1)])])]))),128))])):(a(),o("p",ot,"등록된 지표가 없습니다."))])],64)}}};export{ct as default};
